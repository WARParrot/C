#include <stdio.h>

int main() {
    const int n = 5;
    int A[n], B[n];
    int x = 0;
    int y = 1;
    int f = 0;
    const int rule = 30;
    int num;
    int* a = A;
    int* b = B;
    int* c;
    
    while (x < n) {
        if (x == n / 2) {
            A[x] = 1;
            printf("%d", A[x]);
            x += 1;
        }
        else {
            A[x] = 0;
            printf("%d", A[x]);
            x += 1;
        }
    }
    x = 0;
    
    while (x < n) {
        B[x] = 0;
        x += 1;
    }
    
    while (f < 5) {
        printf("\n");
        while (&x != &A[n]) {
            int* x = &A[y];
            if (*x == 1) {
                num = (a[*x-1]<<2) + (a[*x]<<1) + a[*x+1];
                b[*x] = (rule >> num) & 1;
            }
            y += 1;
        }
        y = 0;
        
        while (y < n) {
           printf("%d", b[y]);
           y += 1;
        }
        
        a = c;
        a = b;
        b = c;
        f += 1;
    }
}
